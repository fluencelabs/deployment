# common vars
_arch_map:
  amd64: amd64
  x86_64: amd64
  aarch64: arm64
  64-bit: amd64
_arch: "{{ _arch_map[ansible_architecture] }}"
_semver_regex: "^v?\\d+\\.\\d+\\.\\d+$"

# nox vars
_nox_version: "{{ nox_version | regex_replace('^(?!v)', 'v') }}"
_nox_download_url: "https://github.com/fluencelabs/nox/releases/download/nox-{{ _nox_version }}"
_nox_checksums: "sha256:{{ _nox_download_url + '/nox_SHA256_SUMS' }}"
_nox_bin: "nox-{{ _arch }}"

# ipfs vars
_ipfs_version: "{{ nox_ipfs_version | regex_replace('^(?!v)', 'v') }}"
_ipfs_archive: "kubo_{{ _ipfs_version }}_linux-{{ _arch }}.tar.gz"
_ipfs_download_url: "https://dist.ipfs.io/kubo/{{ _ipfs_version }}/{{ _ipfs_archive }}"
_ipfs_checksums: "sha512:{{ _ipfs_download_url + '.sha512' }}"
